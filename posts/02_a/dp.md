---
title: DP에 관하여...
date: 2023-06-12
tags: algorithm
description: Dynamic Programming 이란 무엇이고 어떠한 원리로 작동되며 간단한 예시등을 통해 어떻게 구현해야 하는지 어떠한 방식으로 접근해야 하는지에 대해 다룬다.
category: algorithm
slug: whatis-dp
---

## Dynamic Programming 이란?

dynamic programming은 일련의 문제를 해결함에 있어서 그 문제를 해결하는 과정 중 발생되는 중복되는 하위 문제를 좀더 효율적으로 해결 하기 위한 방법이다.

## - dynamic programming의 목표

dynamic programming의 목표는 중복되는 문제를 공식화 하여 최적의 하위 구조로 변환하여 최적의 솔루션을 찾아내는 것이 목표로 한다.

## - 대표적인 예시, 피보나치 수열

피보나치 수열은 0, 1, 1, 2, 3, 5, 8, 13...와 같이 숫자 n이 증가 함에 따라 이전의 수들의 한 F(n) = F(n - 1) + F(n - 2)의 식을 사용하여 증가되는 수열을 피보나치 수열이라 말한다.

앞서 위에서 dynamic programming의 목표는 중복되는 하위 문제를 공식화 하여 최적의 하위 구조로 변환하여 문제를 해결하는 것을 목표로 한다 하였다. 그렇다면 피보나치 수열에서 발견할 수 있는 솔루션은 무엇이 있을까?

예를 들어 n = 10까지의 피보나치 수열을 구한다고 생각을 해보자. 이 문제를 위의 식을 통해 생각하면 F(10) = F(8) + F(9)이다. 이 식을 반복하여 F(8), F(9)를 구하고 위의 식을 반복하여 계속해서 F(0), F(1)까지 내려가면 우리는 답을 구할 수 있을 것이다.

하지만 여기서 걸리는 시간을 생각해보자. n이 주어졌을 때 우리는 그 수를 1의 차이를 지닌 값과 2의 차이를 지닌 값으로 구분하여 식을 구하였고 이러한 작업을 수가 0이 될때까지 구했다. 이럴 경우 걸릴 시간은 O(2^n) 시간이 걸릴 것이다. 이는 전혀 효율적이지 않고 기하급수적인 시간이 걸린다. 이러한 것을 해결하기 위해서 DP는 몇 가지 방법을 제안한다.

## DP를 어떻게 구현할 것인가?

## DP를 위한 framework

1. 상태를 정의할 것
   여기서 설명하는 상태는 문제의 시나리오를 충분히 설명할 수 있는 변수의 집합을 이야기 한다. 이러한 변수를 상태 변수라고 하며 상태의 변화에 관련이 있는 변수에만 관심이 있다.

2. dp는 주어진 모든 상황에 대한 상태의 변화에 대한 결과 값을 포함하는 함수 구조 또는 데이터의 구조(배열이나 해쉬맵과 같은)의 형태로 값을 반환하는 경우가 대부분이다.

3. dp에서의 반복되는 구조는 서로 다른 상태들을 연결하는 형식의 방정식으로 구성된다. 예를 들어 계단을 오르는 문제를 예시로 생각을 해보자. 내가 30층까지 계단을 오르기 위한 경우의 수 중 최적의 방법을 물어보았을 경우 답은 30까지 원했지만 29, 28까지 오르는 경우의 수를 오르는 것이라는 것을 알 수 있고 현재까지 오른 층의 수를 i라고 하였을 경우 dp(i) = dp(i - 1) + dp(i - 2)와 같이 서로 다른 상태들을 연결하는 형식으로 구성이 된다는 것이다.

### 1.Bottom-up(Tabulation)

botto-up 말 그대로 제일 바닥에서 부터 내려가서 문재를 해결하는 방법이다. 위의 피보나치를 예시로 바닥부터 시작한다면 F(0), F(1)에서 부터 시작하여 목표로하는 n을 찾아내는 방법이다. 이러한 방법을 도표의 방식으로 목록을 만든다고도 하는데 이는 아래에서 부터 값을 저장하여 나아가며 표를 채워 이미 계산한 값은 다시 계산하지 않고 표에 있는 값을 불러오기 때문이다. 이 방식이 하향식 방식에 비해서 일반적으로 런타임이 빠르다는 장점을 지닌다.

```javascript
F = array of length (n + 1)
F[0] = 0
F[1] = 1
for i from 2 to n:
F[i] = F[i - 1] + F[i - 2]
```

### 2.Top-Down(memoization)

이 방법은 하위의 트리를 저장하여 불러오는 방식이다. 이 때 주로 HashMap을 이용하여 특정 값을 저장하여 불러오는 방식을 사용한다. 이러한 하향식 구현은 상향식에 비해 일반적으로 쓰기가 쉽습니다. 하지만 이러한 하향식 구현은 하위 문제를 해결하는 순서를 고려하여 논리적인 순서를 거쳐야 한다는 특징을 지닙니다.

```javascript
memo = hashmap
Function F(integer i):
if i is 0 or 1:
return i
if i doesn't exist in memo:
memo[i] = F(i - 1) + F(i - 2)
return memo[i]
```

### 언제 사용해야 하는가?

DP(dynamic programming)문제가 사용되는 일반적인 경우는 미래의 답을 결정짓는 요소가 이전의 요소를 결정한 값에 좌지우지 된다는 것이다. 이러한 특성은 상당히 모호하다.
