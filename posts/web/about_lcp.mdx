---
title: LCP를 단축 시켜보자
date: 2023-11-26
tags: performance
summary: LCP를 다이어트 시키자
slug: lets-reduce-lcp
category: web
completed: false
---

## LCP란 무엇인가?

**최대 콘텐츠 렌더링 시간 (Largest Contentful Paint)** 의 약자이다. 웹에 있어서 컨텐츠가 얼마나 빠르게 로딩되고 사용자들이 컨텐츠를 볼 수 있는지는 **굉장히!** **굉장히!** **굉장히!** 중요한 문제이다. 이러한 측면에서 LCP를 줄이는 것은 굉장히 중요하다.

이는 LCP가 페이지가 처음 로드하기 시작한 시점을 기준으로 표시 영역 내에 표시되는 가장 큰 이미지 또는 텍스트 블록의 렌더링 시간을 보고하기 때문입니다.

만약 페이지 내의 최대 콘텐츠가 너무 크다면 어떻게 될까? 페이지는 로드 되기 이전에 필요한 자원들을 모두 렌더한 이후 다른 렌더 또한 이루어진다. 그렇기 때문에 크기가 큰 자원이 앞에서 뒤에 이어질 렌더들을 막는다면 자연스럽게 사이트는 느려질 것입니다.

### LCP에 고려되는 요소들

1. img 요소
2. svg 요소내의 image 요소
3. 섬네일 이미지가 있는 video 요소
4. url()을 통해 로드된 배경 이미지가 있는 요소( CSS 그라데이션과는 반대로 적용된다. )
5. 텍스트 노드 또는 기타 인라인 수준 텍스트 요소 하위 요소를 포함하는 블록 수준 요소 (ex. div, ul, p 등등)
6. video 요소 자동재생을 위해 채색된 첫 번째 프레임
7. 애니메이션 GIF 등 애니메이션 이미지 형식의 첫 번째 프레임

### 좋은 LCP 점수란 뭘까?

기본적으로 좋은 LCP의 기준은 최대 콘텐츠 렌더 시간이 **`2.5초`** 이하를 기준으로 삼습니다.

### 이미지를 사용할때 LCP를 줄일 수 있는 수단

간단히 말하자면 용량을 줄이는 것이다! 그렇다면 용량은 어떻게 줄일 수 있을까?

이미지 내에는 여러가지 많은 포맷들이 있다. `.jpg`, `.png` `.webp`, `avif` , `.gif`, `.svg` 와 같은 여러가지 포맷들 중에 각각의 용도에 맞는 적절한 포맷을 고르는 것이 이미지의 용량을 줄일 수 있는 좋은 수단이 되기도 한다. 그렇기 때문에 각각의 이미지 포맷을 한번 알아보자.

### 1. .JPG

jpg 파일은 엄밀히 따지면 JPEG 파일입니다. 그리고 우리에게 가장 친숙한 파일 포맷이기도 합니다. 대부분의 웹 브라우저와 스마트폰를 지원하고 또한 일반적인 이미지를 표시하고 저장하는데 유용하게 사용되는 파일 포맷입니다.

JPEG파일은 최대 24비트의 색상을 지원하며 간편한 저장과 전송을 위해 손실 압축 방식으로 이미지를 저장합니다. 이 말은 어려워 보이지만 그렇게 복잡한 이야기는 아닙니다.

이미지를 구성하는 가장 큰 요소는 무엇일까요? 바로 색입니다. 색에는 데이터가 존재합니다. 우리가 흔히 아는 빨, 주, 노, 초, 파, 남, 보와 같은 색이 있지만 이외에도 조금 얕은 빨간색, 파란 색이 약간 섞여 있는 보라색과 같이 다양한 색상이 있습니다. 앞서 이야기한 색상의 비트는 이를 포함하는 범위를 어디까지 포함 할 것인지를 최대 몇 비트의 색상을 지원하는 가를 통해 이야기 하는 것입니다.
